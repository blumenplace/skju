logLevel -1

emulation CreateBLEMedium "wireless"

mach create "sensor_node_1"
mach set "sensor_node_1"
machine LoadPlatformDescription @/workspace/renode_orchestration/scripts/sensor/nrf52840dk.repl
machine StartGdbServer 3333 false
include @/workspace/renode_orchestration/scripts/sensor/nrf52840dk.resc
connector Connect sysbus.radio wireless

mach create "sensor_node_2"
mach set "sensor_node_2"
machine LoadPlatformDescription @/workspace/renode_orchestration/scripts/sensor/nrf52840dk.repl
machine StartGdbServer 3334 false
include @/workspace/renode_orchestration/scripts/sensor/nrf52840dk.resc
connector Connect sysbus.radio wireless

mach create "sensor_gateway"
mach set "sensor_gateway"
machine LoadPlatformDescription @/workspace/renode_orchestration/scripts/gateway/nrf9161dk.repl
include @/workspace/renode_orchestration/scripts/gateway/nrf9161dk.resc
connector Connect sysbus.radio wireless

start